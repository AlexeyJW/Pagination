import{u as m,o as x,c as h,a as O,b as U,r as P,d as a,e as _,f as r,g as v,w as I,t as u,h as p,i as d,j as T,N as $,k,l as N,m as y,F as A,n as V,p as b,q as G,s as L,v as M}from"./vendor.ea6c1db0.js";const w=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}};w();const j={id:"app"},D={id:"nav"},W=d("Home"),F=d("| "),H=d("Login"),B={setup(t){const e=m();x(()=>e.dispatch("GET_PRODUCTS_FROM_API"));const s=h(()=>e.getters.CART.length),n=O();U();const o=()=>n.push("Search"),c=()=>n.push("Wrapper"),i=()=>n.push("Cart");return(g,C)=>{const l=P("router-link"),f=P("router-view");return a(),_("div",j,[r("div",D,[v(l,{to:"/"},{default:I(()=>[W]),_:1}),F,v(l,{to:"/login"},{default:I(()=>[H]),_:1}),r("button",{onClick:o},"Search"),r("button",{onClick:c},"Wrapper"),r("button",{onClick:i},"Cart ("+u(p(s))+")",1)]),v(f)])}}},q=t=>t.products,z=t=>e=>t.products.find(s=>s.id==e),K=t=>t.cart,J=t=>e=>t.paginator[e],Q=t=>t.activePage;var X=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",PRODUCTS:q,USER:z,CART:K,PAGINATOR:J,ACTIVE_PAGE:Q});T.interceptors.request.use(t=>($.start(),t));T.interceptors.response.use(t=>($.done(),t));const Y=({commit:t})=>{T.get("https://jsonplaceholder.typicode.com/users").then(function(e){console.log(e),t("setUsers",e.data)}).catch(function(e){console.log(e)})},Z=({commit:t})=>{T.get("https://jsonplaceholder.typicode.com/users").then(e=>{t("SET_PRODUCTS_TO_STATE",e.data),console.log(e.data)}).catch(function(e){console.log(e)})};var ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",posts:Y,GET_PRODUCTS_FROM_API:Z}),te={addProduct(t,e){t.products.push(e)},setUsers(t,e){t.users=[...e]},SET_PRODUCTS_TO_STATE(t,e){t.products=[...e]},SET_USER_TO_CART(t,e){const s=t.cart.find(n=>n.value.id===e.value.id);console.log(s instanceof Object),s instanceof Object?console.log("refuse"):(console.log("add"),t.cart.push(e))},SET_PAGINATOR(t,e){t.paginator.push(e)},SET_FALSE(t){t.paginator.forEach(e=>{e.isActive=!1})},SET_IS_ACTIVE(t,e){t.paginator[e.index].isActive=e.newIsActive},SET_ACTIVE_PAGE(t,e){t.activePage=e},REMOVE_USER_WITH_CART(t,e){let s=0;for(;t.cart[s]!=e;)s++;t.cart.splice(s,1)}};const se={products:[],cart:[],paginator:[],activePage:1};var oe=k({state:se,getters:X,actions:ee,mutations:te});var S=(t,e)=>{for(const[s,n]of e)t[s]=n;return t};const ne={props:{msg:String},setup(t){return N({count:0}),(e,s)=>(a(),_("h1",null,u(t.msg),1))}};var re=S(ne,[["__scopeId","data-v-730117aa"]]);const ce={};function ae(t,e){return a(),_("div",null," Login ")}var _e=S(ce,[["render",ae]]);const ie={};function ue(t,e){return a(),_("div",null," SEARCH ")}var le=S(ie,[["render",ue]]);const pe={class:"v-catalog-item"},de=r("div",{class:"name"},null,-1),ve=r("hr",null,null,-1),me={class:"info"},he={props:{user:Object},setup(t){return(e,s)=>(a(),_("div",pe,[de,r("strong",null,u(t.user.name),1),ve,r("div",me," id: "+u(t.user.id)+" phone: "+u(t.user.phone),1)]))}};const ge={class:"box"},fe={class:"v-user"},Te={class:"name"},Ae=r("br",null,null,-1),Se=r("br",null,null,-1),Ce=r("br",null,null,-1),Ee={props:{userId:{type:String,default:"1"}},setup(t){const e=t,s=m(),n=h(()=>s.getters.USER(e.userId)),o=()=>{s.commit("SET_USER_TO_CART",n)};return(c,i)=>(a(),_("div",ge,[r("div",fe,[r("div",Te,[r("h1",null,[r("strong",null,u(p(n).name),1)])]),Ae,d(" id: "+u(t.userId)+" ",1),Se,d(" phone: "+u(p(n).phone)+" ",1),Ce,d(" e-mail: "+u(p(n).email)+" ",1),r("div",{id:"cart-btn"},[r("button",{class:"user-btn",onClick:o},"Select")])])]))}};const ye={props:{users:Array},setup(t){const e=O(),s=n=>{e.push({name:"User",params:{userId:n.id}})};return(n,o)=>(a(!0),_(A,null,y(t.users,c=>(a(),_("div",{class:"v-catalog",key:c.id},[v(he,{user:c,onClick:i=>s(c)},null,8,["user","onClick"])]))),128))}};const Re={props:{page:{type:Number},isActive:{type:Boolean}},setup(t){const e=t;let s=!1;const n=m();e.page==1?s=!0:s=!1,n.commit("SET_PAGINATOR",{page:e.page,isActive:s});const o=n.getters.PAGINATOR(e.page-1);return(c,i)=>(a(),_("div",{class:V({active:p(o).isActive})},u(p(o).page),3))}};var Oe=S(Re,[["__scopeId","data-v-442ce25e"]]);const Pe=r("h1",null,"V-main-Wrapper",-1),Ie={class:"v-main-wrapper"},$e={class:"pagination"},be={setup(t){const e=m(),s=h(()=>e.getters.PRODUCTS),n=3;let o=b(e.getters.ACTIVE_PAGE);const c=Math.ceil(s.value.length/n);let i=b(!1);const g=h(()=>{let l=(o.value-1)*n,f=l+n;return s.value.slice(l,f)}),C=l=>{o.value=l,i.value=!0,e.commit("SET_FALSE"),e.commit("SET_IS_ACTIVE",{index:l-1,newIsActive:!0}),e.commit("SET_ACTIVE_PAGE",l)};return(l,f)=>(a(),_(A,null,[Pe,r("div",Ie,[v(ye,{users:p(g)},null,8,["users"])]),r("div",$e,[(a(!0),_(A,null,y(p(c),E=>(a(),_("div",{key:E},[v(Oe,{page:E,isActive:p(i),onClick:Me=>C(E)},null,8,["page","isActive","onClick"])]))),128))])],64))}};const xe={class:"v-cart"},Ue={class:"cart"},ke=r("strong",null,"VCart",-1),Ne=["onClick"],Ve={setup(t){const e=m(),s=h(()=>e.getters.CART),n=o=>{e.commit("REMOVE_USER_WITH_CART",o)};return(o,c)=>(a(),_("div",xe,[r("div",Ue,[ke,(a(!0),_(A,null,y(p(s),(i,g)=>(a(),_("div",{key:g},[d(u(i._value.name)+" ",1),r("button",{class:"cart-b",onClick:C=>n(i)},"Remote",8,Ne)]))),128))])]))}},Ge=[{path:"/",name:"Home",component:re},{path:"/login",name:"Login",component:_e},{path:"/search",name:"Search",component:le},{path:"/wrapper",name:"Wrapper",component:be},{path:"/cart",name:"Cart",component:Ve},{path:"/user",name:"User",component:Ee,props:!0}],Le=G({history:L(),routes:Ge}),R=M(B);R.use(oe);R.use(Le);R.mount("#app");
